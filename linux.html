<!DOCTYPE html>
<html><head>
  <meta name="generator" content="njnmdoc, see http://github.com/njnmco/njnmdoc" />
  <meta charset="UTF-8"><title>Linux Notes</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js" integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script><link rel='stylesheet' type='text/css' href='jemdoc.css' /></head><body><header><h1>Linux Notes</h1>
<nav><ul>
<li><a href="events.html">Event Log</a></li>
<li><a href="talks.html">Talks</a></li>
<li><a href="#">Notes</a><ul>
<li><a href="hotsauce.html">Hot Sauces</a></li>
<li><a href="windows.html">Windows</a></li>
<li><a href="linux.html">Linux</a></li>
</ul>
</li>
</ul></nav>
</header>
<article><!-- njnmdoc: title="Linux Notes"  -->

<h2>Mirroring from s3 to ftp</h2>
<ul>
<li>Launch ec2 node<ul>
<li>in same region as bucket, for free transfer</li>
<li>Need not be too large, this will be IO/network bound</li>
</ul>
</li>
<li>Mount s3 bucket using s3fs<ul>
<li>Tricky if there is a dot in the bucket name, must <code>use_path_request_style</code></li>
<li>If not in us-east-1, most override region</li>
<li>Set umask or only root will have permissions</li>
<li><code>s3fs -o use_path_request_style -o iam_role -o url=https://s3-us-west-2.amazonaws.com -o umask=022 -o endpoint=us-west-2 &lt;bucketname&gt; &lt;mountpoint&gt;</code></li>
</ul>
</li>
<li>recursive copy using <code>ncftp</code><ul>
<li><code>mput -R .</code></li>
</ul>
</li>
</ul>
<h2>USB HDMI capture</h2>
<ul>
<li><code>sudo apt install guvcview</code></li>
<li><code>guvcview</code> to start video capture</li>
<li>For audio, there seems to be quite a bit of lag when muxing with video. Instead, open the two streams independently.<ul>
<li>Find source in <code>pactl list sources | grep name</code></li>
<li>Open pulse audio stream in VLC: <code>vlc pulse://alsa_input.usb-VXIS_Inc_FHD_Capture-02.iec958-stereo</code></li>
</ul>
</li>
</ul>
<h2>ClamAV from source</h2>
<ul>
<li>Get tarball and install:<ul>
<li><code>./configure</code></li>
<li><code>make</code></li>
<li><code>sudo checkinstall</code> - choose 'don't copy' for files in build and home dir</li>
</ul>
</li>
<li><code>sudo ldconfig /usr/local/lib</code></li>
<li><code>sudo cp /usr/local/etc/freshclam.conf{.sample,}</code><ul>
<li>Edit</li>
</ul>
</li>
<li>make shared folder:<ul>
<li><code>sudo mkdir /usr/local/share/clamav</code></li>
<li><code>sudo chgrp 130 /usr/local/share/clamav</code></li>
<li><code>sudo chmod 776 /usr/local/share/clamav</code></li>
</ul>
</li>
<li><code>sudo freshclam</code> to update virus defs</li>
</ul>
<h2>Cisco AnyConnect VPN</h2>
<ul>
<li><code>sudo apt install network-manager-openconnect-gnome</code></li>
<li>Start <code>nm-applet</code> - this may require the gnome-tweak to show indicators<ul>
<li>https://bugzilla.redhat.com/show_bug.cgi?id=1394977</li>
</ul>
</li>
<li>Better debugging: <code>sudo nmcli general logging level TRACE
journalctl -u NetworkManager --since '2 minutes ago'</code></li>
</ul></article>
<footer>Page generated by <a href="https://github.com/njnmco/njnmdoc" target="blank">njnmdoc</a>.
Last updated on&nbsp;2019-09-28.</footer>
</body>
</html>