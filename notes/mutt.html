<!DOCTYPE html>
<html><head>
  <meta name="generator" content="njnmdoc, see http://github.com/njnmco/njnmdoc" />
  <meta charset="UTF-8"><title></title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js" integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script><link rel='stylesheet' type='text/css' href='https://unpkg.com/sakura.css/css/sakura.css' /></head><body><header><h1></h1>
</header>
<article><blockquote>"All mail clients suck. This one just sucks less."</blockquote>

<p><cite>Mutt Homepage</cite></p>
<p>mutt is a no-frills, [[suckless]] email client for the terminal.</p>
<p>One solution is to set up [[DavMail]], which will proxy exchange. It works but it's slow.</p>
<h1>Assumming davmail is running locally</h1>
<p>mailboxes imap://nfultz@localhost:49156/</p>
<p>set smtp_url = smtp://nfultz@localhost:49153</p>
<p>set from = nfultz@Mega.corp</p>
<p>Gmail is easy enough to set up since it supports IMAP. However, be careful when you google for mutt config tips, a lot of info is out of date.</p>
<p>mailboxes imaps://nfultz@imap.gmail.com/</p>
<p>set smtp_url = smtps://nfultz@smtp.gmail.com</p>
<p>set from = nfultz@gmail.com</p>
<p>Google appears to be <a href="http://googleonlinesecurity.blogspot.co.uk/2014/04/new-security-measures-will-affect-older.html">ramping up security</a>, which breaks the config above.</p>
<p>To fix it, we will have to set up OAuth using <a href="https://github.com/simmel/saslxoauth">SASL-XOAuth</a>.</p>
<p>First, you will have to generate a token:</p>
<p>$ wget http://google-mail-xoauth-tools.googlecode.com/svn/trunk/python/xoauth.py</p>
<p>$ python xoauth.py --generate_oauth_token --user=nfultz@gmail.com</p>
<p>Copy and paste the token info into <code>~/.xoauthrc</code></p>
<p>You may also need to install libsasl2-dev and liboauth-dev</p>
<p>Then download and install the XOAuth library from github:</p>
<p>$ git clone https://github.com/simmel/saslxoauth.git</p>
<p>$ cd saslxoauth</p>
<p>$ make</p>
<p>$ checkinstall</p>
<p>$ sudo dpkg -i *.deb</p>
<p>Finally, set the auth measure in mutt's config:</p>
<p>set imap_authenticators="XOAUTH"</p>
<p>set smtp_authenticators="XOAUTH"</p>
<p>On SUSE, you may need to install to <code>/usr/lib64</code> instead of <code>/usr/lib</code></p></article>
<footer>Page generated by <a href="https://github.com/njnmco/njnmdoc" target="blank">njnmdoc</a>.
Last updated on&nbsp;2020-05-03.</footer>
</body>
</html>